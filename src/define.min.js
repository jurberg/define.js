(function(){function g(a,d){for(var b=this,c=a.split("/"),e=c.length-(d?1:0),f=0;f<e;f++)0<c[f].length&&(b[c[f]]||(b[c[f]]={}),b=b[c[f]]);return b}function h(a){for(var d=[],b=0;b<a.length;b++){var c=g(a[b],!1);if(!c)throw"Dependency '"+a[b]+"' has not been loaded.";d.push(c)}return d}this.define=function(a,d,b){var c=g(a,!0);a:{a=a.split("/");for(var e=a.length-1;0<=e;e--)if(0<a[e].length){a=a[e];break a}a=null}c[a]=b.apply(this,h(d))};this.require=function(a,d){d.apply(this,h(a))}}).call(this);