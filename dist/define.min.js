/*! git://github.com/jurberg/define.js.git 0.4.0 2013-03-19 */
(function(n){"use strict";function t(n){return"[object Array]"===Object.prototype.toString.call(n)}function e(t,e){var r=n,l=t.split("/"),u=l.length-(e?1:0),o=0;for(o=0;u>o;o++)l[o].length>0&&(r[l[o]]||(r[l[o]]={}),r=r[l[o]]);return r}function r(n){var t=n.split("/"),e=0;for(e=t.length-1;e>=0;e--)if(t[e].length>0)return t[e];return null}function l(n){var t=[],r=0,l=null;for(r=0;n.length>r;r++){if(l=e(n[r],!1),!l)throw"Dependency '"+n[r]+"' has not been loaded.";t.push(l)}return t}var u={};n.define=function(o,a,i){var c=[],f=null;"string"!=typeof o&&(i=a,a=o,o=null),t(a)||(i=a,a=[]),c=l(a),f=i.apply(n,c),o&&(u[o]={names:a,modules:c,callback:i},e(o,!0)[r(o)]=f)},n.require=function(t,e){e.apply(n,l(t))},n.redefine=function(t,l,o){var a=u[t],i=[],c=0;for(l=l||{},o=o||function(n){return n},c=0;a.names.length>c;c++)i.push(l[a.names[c]]||a.modules[c]);e(t,!0)[r(t)]=o(a.callback.apply(n,i))}})(this);